var colors = require("colors/safe");
var lemonUtils = require("lemon_utils");

module.exports = {};
module.exports.log = function(level, text)
{
	var consoleText = text;
	var consoleTime = lemonUtils.fillZeros((new Date()).getHours(), 2) + ":" + lemonUtils.fillZeros((new Date()).getMinutes(), 2) + ":" + lemonUtils.fillZeros((new Date()).getSeconds(), 2);
	if(level == "ERROR")
	{
		consoleText = "[" + consoleTime + "] [ERROR] " + colors["bold"](colors["red"](consoleText));
	}
	if(level == "WARN")
	{
		consoleText = "[" + consoleTime + "] [WARN ] " + colors["bold"](colors["yellow"](consoleText));
	}
	if(level == "INFO")
	{
		consoleText = "[" + consoleTime + "] [INFO ] " + colors["bold"](colors["blue"](consoleText));
	}
	if(level == "DEBUG")
	{
		consoleText = "[" + consoleTime + "] [DEBUG] " + colors["bold"](colors["white"](consoleText));
	}
	if(level == "TRACE")
	{
		consoleText = "[" + consoleTime + "] [TRACE] " + colors["white"](consoleText);
	}
	console.log(consoleText);
};
["ERROR", "WARN", "INFO", "DEBUG", "TRACE"].forEach(function(level)
{
	module.exports[level.toLowerCase()] = function(text)
	{
		module.exports.log(text, level)
	};
});